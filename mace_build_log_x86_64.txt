Setup same as https://mace.readthedocs.io/en/latest/installation/env_requirement.html
One more step I did was:
~/mace# python ./mace/python/tools/encrypt_opencl_codegen.py
Generate OpenCL kernel done.

I memtioned in https://github.com/XiaoMi/mace/issues/111



~/mace# ./tools/build-standalone-lib.sh
build shared lib for armeabi-v7a + cpu_gpu_dsp
v0.9.0-136-g7f9612d-20180911
Generate OpenCL kernel done.
INFO: Analysed target //mace/libmace:libmace_dynamic (27 packages loaded).
INFO: Found 1 target...
INFO: From Executing genrule @opencl_clhpp//:gen_opencl_clhpp:
/tmp/opencl-clhpp-build.3Ei6S226xR /root/.cache/bazel/_bazel_root/1760a9ed60633c18c98f7a3bfaea3284/sandbox/linux-sandbox/1/execroot/mace
/tmp/opencl-clhpp-build.3Ei6S226xR/build /tmp/opencl-clhpp-build.3Ei6S226xR /root/.cache/bazel/_bazel_root/1760a9ed60633c18c98f7a3bfaea3284/sandbox/linux-sandbox/1/execroot/mace
-- The C compiler identification is GNU 5.4.0
-- The CXX compiler identification is GNU 5.4.0
-- Check for working C compiler: /usr/bin/cc
-- Check for working C compiler: /usr/bin/cc -- works
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Detecting C compile features
-- Detecting C compile features - done
-- Check for working CXX compiler: /usr/bin/c++
-- Check for working CXX compiler: /usr/bin/c++ -- works
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Detecting CXX compile features
-- Detecting CXX compile features - done
-- Configuring done
-- Generating done
-- Build files have been written to: /tmp/opencl-clhpp-build.3Ei6S226xR/build
Scanning dependencies of target generate_clhpp
[100%] Rebuilding cl.hpp ...
[100%] Built target generate_clhpp
Scanning dependencies of target generate_cl2hpp
[100%] Rebuilding cl2.hpp ...
[100%] Built target generate_cl2hpp
/tmp/opencl-clhpp-build.3Ei6S226xR /root/.cache/bazel/_bazel_root/1760a9ed60633c18c98f7a3bfaea3284/sandbox/linux-sandbox/1/execroot/mace
/root/.cache/bazel/_bazel_root/1760a9ed60633c18c98f7a3bfaea3284/sandbox/linux-sandbox/1/execroot/mace
installing to bazel-out/armeabi-v7a-opt/genfiles/external/opencl_clhpp
Target //mace/libmace:libmace_dynamic up-to-date (nothing to build)
INFO: Elapsed time: 715.559s, Critical Path: 34.14s
INFO: 332 processes: 332 linux-sandbox.
INFO: Build completed successfully, 336 total actions
build shared lib for armeabi-v7a + cpu_gpu
INFO: Build options have changed, discarding analysis cache.
INFO: Analysed target //mace/libmace:libmace_dynamic (0 packages loaded).
INFO: Found 1 target...
Target //mace/libmace:libmace_dynamic up-to-date (nothing to build)
INFO: Elapsed time: 322.365s, Critical Path: 14.65s
INFO: 111 processes: 111 linux-sandbox.
INFO: Build completed successfully, 113 total actions
build shared lib for arm64-v8a + cpu_gpu
INFO: Build options have changed, discarding analysis cache.
INFO: Analysed target //mace/libmace:libmace_dynamic (0 packages loaded).
INFO: Found 1 target...
INFO: From Executing genrule @opencl_clhpp//:gen_opencl_clhpp:
/tmp/opencl-clhpp-build.ErEOhNm7AL /root/.cache/bazel/_bazel_root/1760a9ed60633c18c98f7a3bfaea3284/sandbox/linux-sandbox/2/execroot/mace
/tmp/opencl-clhpp-build.ErEOhNm7AL/build /tmp/opencl-clhpp-build.ErEOhNm7AL /root/.cache/bazel/_bazel_root/1760a9ed60633c18c98f7a3bfaea3284/sandbox/linux-sandbox/2/execroot/mace
-- The C compiler identification is GNU 5.4.0
-- The CXX compiler identification is GNU 5.4.0
-- Check for working C compiler: /usr/bin/cc
-- Check for working C compiler: /usr/bin/cc -- works
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Detecting C compile features
-- Detecting C compile features - done
-- Check for working CXX compiler: /usr/bin/c++
-- Check for working CXX compiler: /usr/bin/c++ -- works
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Detecting CXX compile features
-- Detecting CXX compile features - done
-- Configuring done
-- Generating done
-- Build files have been written to: /tmp/opencl-clhpp-build.ErEOhNm7AL/build
Scanning dependencies of target generate_clhpp
[100%] Rebuilding cl.hpp ...
[100%] Built target generate_clhpp
Scanning dependencies of target generate_cl2hpp
[100%] Rebuilding cl2.hpp ...
[100%] Built target generate_cl2hpp
/tmp/opencl-clhpp-build.ErEOhNm7AL /root/.cache/bazel/_bazel_root/1760a9ed60633c18c98f7a3bfaea3284/sandbox/linux-sandbox/2/execroot/mace
/root/.cache/bazel/_bazel_root/1760a9ed60633c18c98f7a3bfaea3284/sandbox/linux-sandbox/2/execroot/mace
installing to bazel-out/arm64-v8a-opt/genfiles/external/opencl_clhpp
Target //mace/libmace:libmace_dynamic up-to-date (nothing to build)
INFO: Elapsed time: 353.405s, Critical Path: 20.15s
INFO: 152 processes: 152 linux-sandbox.
INFO: Build completed successfully, 154 total actions
build shared lib for linux-x86-64
INFO: Build options have changed, discarding analysis cache.
INFO: Analysed target //mace/libmace:libmace_dynamic (1 packages loaded).
INFO: Found 1 target...
Target //mace/libmace:libmace_dynamic up-to-date (nothing to build)
INFO: Elapsed time: 169.077s, Critical Path: 12.12s
INFO: 76 processes: 76 linux-sandbox.
INFO: Build completed successfully, 79 total actions
build static lib for armeabi-v7a + cpu_gpu_dsp
INFO: Build options have changed, discarding analysis cache.
INFO: Analysed target //mace/libmace:libmace_static (7 packages loaded).
INFO: Found 1 target...
Target //mace/libmace:libmace_static up-to-date:
  bazel-genfiles/mace/libmace/libmace.a
INFO: Elapsed time: 369.835s, Critical Path: 17.39s
INFO: 149 processes: 149 linux-sandbox.
INFO: Build completed successfully, 151 total actions
build static lib for armeabi-v7a + cpu_gpu
INFO: Build options have changed, discarding analysis cache.
INFO: Analysed target //mace/libmace:libmace_static (0 packages loaded).
INFO: Found 1 target...
Target //mace/libmace:libmace_static up-to-date:
  bazel-genfiles/mace/libmace/libmace.a
INFO: Elapsed time: 318.920s, Critical Path: 15.07s
INFO: 111 processes: 111 linux-sandbox.
INFO: Build completed successfully, 112 total actions
build static lib for arm64-v8a + cpu_gpu
INFO: Build options have changed, discarding analysis cache.
INFO: Analysed target //mace/libmace:libmace_static (0 packages loaded).
INFO: Found 1 target...
Target //mace/libmace:libmace_static up-to-date:
  bazel-genfiles/mace/libmace/libmace.a
INFO: Elapsed time: 343.854s, Critical Path: 17.05s
INFO: 147 processes: 147 linux-sandbox.
INFO: Build completed successfully, 148 total actions
build static lib for linux-x86-64
INFO: Build options have changed, discarding analysis cache.
INFO: Analysed target //mace/libmace:libmace_static (0 packages loaded).
INFO: Found 1 target...
Target //mace/libmace:libmace_static up-to-date:
  bazel-genfiles/mace/libmace/libmace.a
INFO: Elapsed time: 169.556s, Critical Path: 13.50s
INFO: 93 processes: 93 linux-sandbox.
INFO: Build completed successfully, 103 total actions
LIB PATH: builds/lib
INCLUDE FILE PATH: builds/include/mace/public
~/mace#
~/mace#




~/mace# cd builds/
~/mace/builds# ls
downloads  include  lib  mobilenet  mobilenet-v1
~/mace/builds# ls -ltr
total 20
drwxr-xr-x 3 root root 4096 Sep  5 12:52 include
drwxr-xr-x 4 root root 4096 Sep  7 11:42 mobilenet-v1
drwxr-xr-x 2 root root 4096 Sep  8 11:39 downloads
drwxr-xr-x 4 root root 4096 Sep  8 17:36 mobilenet
drwxr-xr-x 5 root root 4096 Sep 11 14:16 lib
~/mace/builds# cd lib/
~/mace/builds/lib# 
~/mace/builds/lib# cd linux-x86-64/
~/mace/builds/lib/linux-x86-64# ls -ltr
total 22024
-r-xr-xr-x 1 root root  2251328 Sep 11 14:42 libmace.so
-r-xr-xr-x 1 root root 20296970 Sep 11 15:03 libmace.a






~/mace# cat /etc/lsb-release 
DISTRIB_ID=Ubuntu
DISTRIB_RELEASE=16.04
DISTRIB_CODENAME=xenial
DISTRIB_DESCRIPTION="Ubuntu 16.04.5 LTS"




